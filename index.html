<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Inscri√ß√£o</title>
<style>
:root{ --bg:#111; --muted:#bdbdbd; --accent:#fff; --focus:rgba(255,255,255,.12); --fade:500ms; }
*{box-sizing:border-box}
body{
  margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;
  background:linear-gradient(180deg,#0b0b0b 0%,#111 100%);
  font-family:Inter,system-ui,Arial;color:var(--accent);
  -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
}
.wrap{width:100%;max-width:680px;padding:32px;animation:fadeIn .6s ease both}
.card{
  background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.01));
  border:1px solid rgba(255,255,255,.04);padding:32px;border-radius:14px;
  box-shadow:0 10px 30px rgba(0,0,0,.6);backdrop-filter:blur(6px)
}
.intro{text-align:center;color:var(--muted);font-size:14px;margin-bottom:10px}
h1{text-align:center;font-size:24px;margin:6px 0 14px;position:relative;display:inline-block}
h1::after{
  content:"";position:absolute;left:50%;transform:translateX(-50%);bottom:-10px;
  width:0;height:3px;border-radius:3px;background:rgba(255,255,255,.6);
  transition:width .45s cubic-bezier(.2,.9,.3,1);
}
.card:hover h1::after{width:72px}

label{display:block;margin-top:16px;margin-bottom:8px;font-weight:600;font-size:13px}
textarea,input[type=text]{
  width:100%;padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.04);color:var(--accent);font-size:14px;
  transition:box-shadow .18s,transform .12s,border-color .16s;min-height:72px;resize:vertical;
}
textarea:focus,input[type=text]:focus{border-color:#fff;transform:translateY(-2px);box-shadow:0 6px 24px var(--focus)}
.radio-row{display:flex;gap:18px;margin-top:6px}
.radio-row label{font-weight:500;color:var(--muted);cursor:pointer;display:flex;gap:8px;align-items:center}
input[type=radio]{width:16px;height:16px}

.extra{
  margin-top:12px;max-height:0;overflow:hidden;opacity:0;transform:translateY(15px);
  transition:opacity var(--fade),transform var(--fade),max-height var(--fade);
}
.extra.show{max-height:300px;opacity:1;transform:translateY(0)}

.actions{text-align:center;margin-top:22px}
.btn{
  padding:12px 20px;background:#000;color:#fff;border-radius:10px;border:1px solid rgba(255,255,255,.08);
  font-weight:700;cursor:pointer;transition:.2s;box-shadow:0 6px 18px rgba(0,0,0,.5);
}
.btn:hover{background:#fff;color:#000;border-color:#000}
.success{text-align:center;margin-top:20px;display:none}
.success .badge{display:inline-block;margin-bottom:10px;padding:6px 12px;border-radius:999px;font-weight:700;font-size:13px}
.badge.ok{background:#0f5132;color:#d1f7e2;border:1px solid #0c4128}
.badge.no{background:#5a1a1a;color:#ffe3e3;border:1px solid #3d1010}
.success p{color:var(--muted);margin:8px 0 16px}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(8px)}
  to{opacity:1;transform:translateY(0)}
}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <div class="intro">Preencha o formul√°rio para se inscrever</div>
    <h1>Inscri√ß√£o</h1>

    <form id="form">
      <!-- Q1 -->
      <label>Voc√™ j√° foi staff de um server?</label>
      <div class="radio-row">
        <label><input type="radio" name="staff" value="Sim" required> Sim</label>
        <label><input type="radio" name="staff" value="N√£o" required> N√£o</label>
      </div>
      <div id="q1extra" class="extra" aria-hidden="true"></div>

      <!-- Q2 -->
      <label>Como voc√™ reagiria com uma briga no servidor?</label>
      <textarea id="q2" name="briga" placeholder="Explique..." required></textarea>
      <div id="q2extraBox" class="extra" aria-hidden="true">
        <label for="q2extra">Mas e se n√£o funcionar?</label>
        <textarea id="q2extra" name="q2extra" placeholder="O que faria ent√£o?"></textarea>
      </div>

      <!-- Q3 -->
      <label>Quais s√£o suas melhores qualidades? (Relacionado ao server)</label>
      <textarea id="q3" name="melhores" placeholder="Fale sobre suas qualidades..." required></textarea>
      <div id="q3extra" class="extra" aria-hidden="true"></div>

      <!-- Q4 -->
      <label>Suas piores qualidades? (Relacionado ao server)</label>
      <textarea id="q4" name="piores" placeholder="Fale sobre suas piores qualidades..." required></textarea>
      <div id="q4extra" class="extra" aria-hidden="true"></div>

      <!-- Q5 -->
      <label>Que sal√°rio voc√™ deseja? (N√£o seja muito por favor)</label>
      <input id="q5" type="text" name="salario" placeholder="Ex.: 100 Robux por m√™s" required>
      <div id="q5extra" class="extra" aria-hidden="true"></div>

      <div class="actions"><button class="btn" id="submit">Enviar</button></div>
    </form>

    <div class="success" id="success">
      <div id="statusBadge" class="badge"></div>
      <h2 id="statusTitle">‚Äî</h2>
      <p id="statusMsg">‚Äî</p>
      <a class="btn" href="https://www.roblox.com/share?code=ec604a40e5129842bcd22369f1630f4b&type=Server">Continuar</a>
    </div>
  </div>
</div>

<script>
/* ========= util ========== */
function showBox(el){ el.classList.add('show'); el.setAttribute('aria-hidden','false'); }
function hideBox(el){ el.classList.remove('show'); el.setAttribute('aria-hidden','true'); }
function setBoxContent(box, html){ if(!box) return; box.innerHTML = html; }
function parseNumberFrom(str){
  const m = (str||'').replace(/\./g,'').match(/(\d+)(?:\s*(k|mil))?/i);
  if(!m) return null;
  let n = parseInt(m[1],10);
  if(m[2]) n = n*1000;
  return isNaN(n) ? null : n;
}

/* ========= elementos ========== */
const form = document.getElementById('form');
const success = document.getElementById('success');
const submitBtn = document.getElementById('submit');
const badge = document.getElementById('statusBadge');
const title = document.getElementById('statusTitle');
const msg = document.getElementById('statusMsg');

/* Q1 follow-up */
const q1extra = document.getElementById('q1extra');
document.querySelectorAll('input[name="staff"]').forEach(r=>{
  r.addEventListener('change', ()=>{
    if(r.value === 'Sim' && r.checked){
      setBoxContent(q1extra, `
        <label for="q1servidor">Em qual servidor e qual cargo voc√™ foi?</label>
        <textarea id="q1servidor" name="q1servidor" placeholder="Ex.: Moderador no servidor X (2023)"></textarea>
      `);
      showBox(q1extra);
    } else if(r.value === 'N√£o' && r.checked){
      setBoxContent(q1extra, `
        <label for="q1motivo">Por que quer ser staff agora?</label>
        <textarea id="q1motivo" name="q1motivo" placeholder="Conte seu motivo e expectativa."></textarea>
      `);
      showBox(q1extra);
    }
  });
});

/* Q2 follow-up */
const q2 = document.getElementById('q2');
const q2extraBox = document.getElementById('q2extraBox');
const q2words = ["resolver","solucionar","consertar","contornar","lidar","ajustar","mediar","apaziguar","dialog","calm","paci√™n","fix","solve","handle","apazigu"];
q2.addEventListener('input', ()=>{
  const v = (q2.value||'').toLowerCase();
  if(q2words.some(w=>v.includes(w))){ showBox(q2extraBox); }
  else { hideBox(q2extraBox); const x = document.getElementById('q2extra'); if(x) x.value=''; }
});

/* Q3 follow-up (exemplo pr√°tico) */
const q3 = document.getElementById('q3');
const q3extra = document.getElementById('q3extra');
q3.addEventListener('input', ()=>{
  const v = (q3.value||'').toLowerCase();
  if(/(equipe|time|comunica|organiza|respons|proativo|pro-ativo)/i.test(v)){
    setBoxContent(q3extra, `
      <label for="q3exemplo">D√™ um exemplo pr√°tico de quando usou essa qualidade.</label>
      <textarea id="q3exemplo" name="q3exemplo" placeholder="Conte uma situa√ß√£o real (curta)."></textarea>
    `);
    showBox(q3extra);
  } else { hideBox(q3extra); setBoxContent(q3extra,''); }
});

/* Q4 follow-up (mitiga√ß√£o do defeito) */
const q4 = document.getElementById('q4');
const q4extra = document.getElementById('q4extra');
q4.addEventListener('input', ()=>{
  const v = (q4.value||'').toLowerCase();
  if(/(impulsiv|ansios|teimos|impaci|atras|procrast)/i.test(v)){
    setBoxContent(q4extra, `
      <label for="q4mitiga">Como voc√™ lida/mitiga essa dificuldade no dia a dia?</label>
      <textarea id="q4mitiga" name="q4mitiga" placeholder="Fale sobre estrat√©gias que voc√™ usa."></textarea>
    `);
    showBox(q4extra);
  } else { hideBox(q4extra); setBoxContent(q4extra,''); }
});

/* Q5 follow-up (justificativa) */
const q5 = document.getElementById('q5');
const q5extra = document.getElementById('q5extra');
q5.addEventListener('input', ()=>{
  const n = parseNumberFrom(q5.value);
  if(n !== null && n > 300){
    setBoxContent(q5extra, `
      <label for="q5just">Nosso or√ßamento √© limitado. Pode justificar esse valor ou sugerir um pacote (ex.: benef√≠cios/horas)?</label>
      <textarea id="q5just" name="q5just" placeholder="Explique sua expectativa e flexibilidade."></textarea>
    `);
    showBox(q5extra);
  } else { hideBox(q5extra); setBoxContent(q5extra,''); }
});

/* ========= Regras de aprova√ß√£o (tudo local) =========
   Aprovado se:
   - Q2 cont√©m postura de media√ß√£o/di√°logo (sem viol√™ncia/puni√ß√£o imediata), e
   - Q3 tem ao menos 10 caracteres e n√£o est√° vazio, e
   - Q4 n√£o diz "nenhuma" (sinceridade m√≠nima), e
   - Sal√°rio num√©rico <= 300.
*/
function evaluate(){
  const data = new FormData(form);
  const briga = (data.get('briga')||'').toLowerCase();
  const melhores = (data.get('melhores')||'').trim();
  const piores = (data.get('piores')||'').toLowerCase();
  const salarioRaw = data.get('salario')||'';

  const goodQ2 = /(resolver|solucionar|mediar|dialog|apazigu|calm|paci√™n|contornar|lidar|ajustar)/i.test(briga)
                 && !/(xingar|gritar|humilhar|agredir|viol[e√™]ncia|banir.*sem|expulsar.*sem)/i.test(briga);

  const goodQ3 = melhores.length >= 10;
  const honestQ4 = !/(nenhuma|nao tenho|n√£o tenho)/i.test(piores);

  const n = parseNumberFrom(salarioRaw);
  const salaryOK = (n !== null && n > 0 && n <= 300);

  const approved = goodQ2 && goodQ3 && honestQ4 && salaryOK;

  // Mensagens
  if(approved){
    badge.className = 'badge ok';
    badge.textContent = 'APROVADO(A)';
    title.textContent = 'Parab√©ns! üéâ';
    msg.textContent = 'Sua candidatura foi analisada e voc√™ foi aprovado(a) para integrar a staff. Entre em contato para iniciarmos a integra√ß√£o.';
  }else{
    badge.className = 'badge no';
    badge.textContent = 'RECUSADO(A)';
    title.textContent = 'Obrigado por participar';
    msg.textContent = 'Desta vez optamos por seguir com outros candidatos mais alinhados aos crit√©rios. Continue participando e tente novamente futuramente.';
  }
  return approved;
}

/* Submiss√£o apenas de UI */
form.addEventListener('submit', (e)=>{
  e.preventDefault();
  submitBtn.textContent = 'Enviando...';
  submitBtn.disabled = true;
  setTimeout(()=>{
    evaluate();                // define mensagens e status
    form.style.display='none';
    success.style.display='block';
    submitBtn.textContent = 'Enviar';
    submitBtn.disabled = false;
  }, 900);
});
</script>
</body>
</html>
